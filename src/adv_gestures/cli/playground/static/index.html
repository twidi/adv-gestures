<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesture Recognition Playground</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div id="main-container">
        <!-- Video container with overlay -->
        <div id="video-container">
            <div class="video-wrapper">
                <video id="video" autoplay playsinline muted></video>
                <div id="canvas-container">
                    <!-- App canvases will be created here dynamically -->
                </div>
                <canvas id="app-icons"></canvas>
            </div>
            
            <!-- Connection status -->
            <div id="connection-status" class="status-connecting">
                <span class="status-icon"></span>
                <span class="status-text">Connecting...</span>
            </div>
            
            <!-- Camera selector (hidden by default) -->
            <div id="camera-selector" class="hidden">
                <div class="selector-content">
                    <h3>Select Camera</h3>
                    <video id="preview-video" autoplay playsinline muted></video>
                    <select id="camera-dropdown">
                        <option value="">Loading cameras...</option>
                    </select>
                    <button id="camera-select-btn">Select</button>
                </div>
            </div>
        </div>
        
        <!-- Control area -->
        <div id="controls">
            <button id="mirror-toggle" class="control-btn" title="Mirror (M)">
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <rect x="10" y="3" width="4" height="18" fill="currentColor"/>
                    <path d="M6 4v16L2 12z" fill="currentColor"/>
                    <path d="M18 4v16l4-8z" fill="currentColor"/>
                </svg>
                <span class="toggle-state">ON</span>
            </button>
            
            <button id="camera-switch" class="control-btn hidden" title="Switch Camera">
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z"/>
                </svg>
            </button>
            
            <button id="logs-toggle" class="control-btn" title="Logs">
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"/>
                    <circle cx="7.5" cy="16.5" r="1.5"/>
                    <circle cx="7.5" cy="11.5" r="1.5"/>
                    <circle cx="7.5" cy="6.5" r="1.5"/>
                </svg>
                <span class="toggle-state">OFF</span>
            </button>
        </div>
        
        <!-- Logs panel -->
        <div id="logs-panel" class="hidden">
            <div id="logs-header">
                <span>Logs</span>
                <button id="logs-clear" class="logs-action">Clear</button>
            </div>
            <div id="logs-content"></div>
        </div>
    </div>
    
    <script type="module" src="/static/main.js"></script>
</body>
</html>